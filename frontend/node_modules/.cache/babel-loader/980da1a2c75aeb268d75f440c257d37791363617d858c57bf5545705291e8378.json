{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kashif\\\\clinic-management-system\\\\frontend\\\\src\\\\pages\\\\Dispensary.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { dispensaryAPI, appointmentAPI, medicinesAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst emptyItem = {\n  name: '',\n  quantity: 1,\n  unitPrice: 0\n};\nconst Dispensary = () => {\n  _s();\n  var _selectedAppt$patient, _selectedAppt$patient2, _selectedAppt$doctor, _selectedAppt$doctor$, _selectedAppt$doctor2, _selectedAppt$doctor3, _selected$patient, _selected$patient2, _selected$dailyToken, _selected$items;\n  const [mode, setMode] = useState('token'); // 'token' | 'patient'\n  const [date, setDate] = useState('');\n  const [token, setToken] = useState('');\n  const [patientId, setPatientId] = useState('');\n  const [items, setItems] = useState([{\n    ...emptyItem\n  }]);\n  const [tax, setTax] = useState('0');\n  const [loading, setLoading] = useState(false);\n  const [queryDate, setQueryDate] = useState('');\n  const [queryToken, setQueryToken] = useState('');\n  const [queryPatientId, setQueryPatientId] = useState('');\n  const [results, setResults] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [payAmount, setPayAmount] = useState('');\n  const billRef = useRef(null);\n  const [queryLoading, setQueryLoading] = useState(false);\n\n  // Appointment filter/prefill\n  const todayStr = new Date().toISOString().slice(0, 10);\n  const [apptDate, setApptDate] = useState(todayStr);\n  const [apptStatus, setApptStatus] = useState('scheduled');\n  const [apptLoading, setApptLoading] = useState(false);\n  const [appointments, setAppointments] = useState([]);\n  const [selectedAppt, setSelectedAppt] = useState(null);\n\n  // Alternatives search by salt per item index\n  const [altIdx, setAltIdx] = useState(null);\n  const [altSalt, setAltSalt] = useState('');\n  const [altList, setAltList] = useState([]);\n  const [altLoading, setAltLoading] = useState(false);\n  const updateItem = (idx, field, value) => {\n    setItems(prev => prev.map((it, i) => i === idx ? {\n      ...it,\n      [field]: value\n    } : it));\n  };\n\n  // Auto-load today's scheduled appointments on mount\n  useEffect(() => {\n    onQueryAppointments();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Appointments search for chemist\n  const onQueryAppointments = async () => {\n    try {\n      setApptLoading(true);\n      const params = {};\n      if (apptDate) params.date = apptDate;\n      if (apptStatus) params.status = apptStatus;\n      const res = await appointmentAPI.getAll(params);\n      setAppointments(res.data.data || []);\n      setSelectedAppt(null);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      const msg = ((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Failed to fetch appointments';\n      toast.error(msg);\n    } finally {\n      setApptLoading(false);\n    }\n  };\n  const onChooseAppointment = async appt => {\n    setSelectedAppt(appt);\n    try {\n      const res = await dispensaryAPI.prefill({\n        appointmentId: appt._id\n      });\n      const pre = res.data.data || [];\n      if (pre.length === 0) toast('No prescription found for this appointment');\n      setItems(pre.map(x => ({\n        name: x.name,\n        strength: x.strength || '',\n        form: x.form || '',\n        duration: x.duration || '',\n        quantity: x.quantity || 1,\n        unitPrice: x.unitPrice || 0,\n        notes: x.notes || ''\n      })));\n      setMode('token');\n      setDate(appt.appointmentDay ? new Date(appt.appointmentDay).toISOString().slice(0, 10) : '');\n      setToken(appt.dailyToken || '');\n      setPatientId('');\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      const msg = ((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || 'Failed to prefill from prescription';\n      toast.error(msg);\n    }\n  };\n\n  // Alternatives by salt\n  const onSearchAlternatives = async idx => {\n    try {\n      if (!altSalt) return toast.error('Enter salt to search alternatives');\n      setAltLoading(true);\n      setAltIdx(idx);\n      const res = await medicinesAPI.getAll({\n        salt: altSalt,\n        limit: 10\n      });\n      setAltList(res.data.data || []);\n    } catch (e) {\n      setAltList([]);\n    } finally {\n      setAltLoading(false);\n    }\n  };\n  const onPickAlternative = m => {\n    if (altIdx === null) return;\n    updateItem(altIdx, 'name', m.name || '');\n    updateItem(altIdx, 'unitPrice', m.sellingPrice || 0);\n    setAltIdx(null);\n    setAltSalt('');\n    setAltList([]);\n  };\n  const addItem = () => setItems(prev => [...prev, {\n    ...emptyItem\n  }]);\n  const removeItem = idx => setItems(prev => prev.filter((_, i) => i !== idx));\n  const computeSubtotal = () => items.reduce((sum, it) => sum + Number(it.quantity || 0) * Number(it.unitPrice || 0), 0);\n  const subtotal = computeSubtotal();\n  const total = subtotal + Number(tax || 0);\n\n  // Quantity helpers\n  const setDays = (idx, days) => {\n    updateItem(idx, 'days', days);\n    const qty = Number(days || 0) * Number(items[idx].doses || 0 || 1);\n    updateItem(idx, 'quantity', qty);\n  };\n  const setDoses = (idx, doses) => {\n    updateItem(idx, 'doses', doses);\n    const qty = Number(doses || 0) * Number(items[idx].days || 0 || 1);\n    updateItem(idx, 'quantity', qty);\n  };\n  const onCreate = async () => {\n    try {\n      setLoading(true);\n      const payload = {\n        items,\n        tax: Number(tax || 0)\n      };\n      if (mode === 'token') {\n        if (!date || !token) return toast.error('Provide date and token');\n        payload.date = date;\n        payload.token = Number(token);\n      } else {\n        if (!patientId) return toast.error('Provide patientId');\n        payload.patient = patientId;\n      }\n      const res = await dispensaryAPI.create(payload);\n      toast.success('Dispense created');\n      // Reset minimal\n      setItems([{\n        ...emptyItem\n      }]);\n      setTax('0');\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      const msg = ((_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.message) || 'Failed to create dispense';\n      toast.error(msg);\n      console.error('Create dispense error:', e);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const onSelect = d => {\n    setSelected(d);\n    setPayAmount('');\n  };\n  const onPay = async () => {\n    if (!(selected !== null && selected !== void 0 && selected._id)) return toast.error('Select a dispense first');\n    if (!payAmount || Number(payAmount) <= 0) return toast.error('Enter valid amount');\n    try {\n      const res = await dispensaryAPI.pay(selected._id, {\n        amount: Number(payAmount)\n      });\n      toast.success('Payment recorded');\n      setSelected(res.data.data);\n      // refresh list entry\n      setResults(prev => prev.map(x => x._id === res.data.data._id ? res.data.data : x));\n      setPayAmount('');\n    } catch (e) {\n      var _e$response4, _e$response4$data;\n      const msg = ((_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.message) || 'Payment failed';\n      toast.error(msg);\n      console.error('Payment error:', e);\n    }\n  };\n  const onPrint = () => {\n    if (!billRef.current) return;\n    const printContents = billRef.current.innerHTML;\n    const win = window.open('', '', 'width=800,height=600');\n    win.document.write('<html><head><title>Bill</title>');\n    win.document.write('<style>body{font-family:Arial;padding:16px} table{width:100%;border-collapse:collapse} th,td{border:1px solid #ddd;padding:8px;text-align:left}</style>');\n    win.document.write('</head><body>');\n    win.document.write(printContents);\n    win.document.write('</body></html>');\n    win.document.close();\n    win.focus();\n    win.print();\n    win.close();\n  };\n  const onQuery = async () => {\n    try {\n      setQueryLoading(true);\n      const params = {};\n      if (queryPatientId) params.patientId = queryPatientId;\n      if (queryDate && queryToken) {\n        params.date = queryDate;\n        params.token = queryToken;\n      }\n      if (!params.patientId && !params.date) return toast.error('Provide patientId or date+token');\n      const res = await dispensaryAPI.getAll(params);\n      setResults(res.data.data || []);\n      setSelected(null);\n    } catch (e) {\n      var _e$response5, _e$response5$data;\n      const msg = ((_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : (_e$response5$data = _e$response5.data) === null || _e$response5$data === void 0 ? void 0 : _e$response5$data.message) || 'Failed to fetch dispenses';\n      toast.error(msg);\n      console.error('Query dispenses error:', e);\n    } finally {\n      setQueryLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Create Dispense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"mode\",\n            checked: mode === 'token',\n            onChange: () => setMode('token')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), \" By Token\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"mode\",\n            checked: mode === 'patient',\n            onChange: () => setMode('patient')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), \" By Patient ID\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), mode === 'token' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"input-field\",\n            value: date,\n            onChange: e => setDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"input-field\",\n            value: token,\n            onChange: e => setToken(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Patient ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input-field\",\n            value: patientId,\n            onChange: e => setPatientId(e.target.value),\n            placeholder: \"Mongo ObjectId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-12 gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input-field md:col-span-3\",\n              placeholder: \"Medicine name\",\n              value: it.name,\n              onChange: e => updateItem(idx, 'name', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input-field md:col-span-2\",\n              placeholder: \"Strength (e.g., 500mg)\",\n              value: it.strength || '',\n              onChange: e => updateItem(idx, 'strength', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-3 flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"input-field\",\n                placeholder: \"Days\",\n                value: it.days || '',\n                onChange: e => setDays(idx, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"input-field\",\n                placeholder: \"Doses/day\",\n                value: it.doses || '',\n                onChange: e => setDoses(idx, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input-field md:col-span-1\",\n              placeholder: \"Qty\",\n              value: it.quantity,\n              onChange: e => updateItem(idx, 'quantity', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input-field md:col-span-1\",\n              placeholder: \"Unit Price\",\n              value: it.unitPrice,\n              onChange: e => updateItem(idx, 'unitPrice', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input-field md:col-span-2\",\n              placeholder: \"Duration (e.g., 5 days)\",\n              value: it.duration || '',\n              onChange: e => updateItem(idx, 'duration', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2 flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input-field\",\n                placeholder: \"Salt\",\n                value: altIdx === idx ? altSalt : '',\n                onChange: e => {\n                  setAltIdx(idx);\n                  setAltSalt(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-secondary\",\n                onClick: () => onSearchAlternatives(idx),\n                children: \"Alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-secondary\",\n                onClick: () => removeItem(idx),\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), altIdx === idx && (altList.length > 0 || altLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-12 border rounded p-2 bg-white\",\n              children: [altLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Searching alternatives...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 36\n              }, this), altList.map(m => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"block w-full text-left px-3 py-1 hover:bg-gray-50\",\n                onClick: () => onPickAlternative(m),\n                children: [m.name, \" \", m.strength ? `(${m.strength})` : '', \" \", m.form ? `- ${m.form}` : '', \" \\u2014 Rs. \", Number(m.sellingPrice || 0).toFixed(2)]\n              }, m._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-secondary\",\n            onClick: addItem,\n            children: \"Add Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Tax\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"input-field\",\n            value: tax,\n            onChange: e => setTax(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2 flex items-end justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Subtotal: \", subtotal.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Tax: \", Number(tax || 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-semibold\",\n              children: [\"Total: \", total.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: onCreate,\n        disabled: loading,\n        children: loading ? 'Saving...' : 'Create Dispense'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Appointments for Dispensing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"input-field\",\n            value: apptDate,\n            onChange: e => setApptDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"input-field\",\n            value: apptStatus,\n            onChange: e => setApptStatus(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"scheduled\",\n              children: \"Scheduled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"completed\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cancelled\",\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"no-show\",\n              children: \"No Show\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: onQueryAppointments,\n            disabled: apptLoading,\n            children: apptLoading ? 'Loading...' : 'Search'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Patient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Token\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: [appointments.map(a => {\n              var _a$patient, _a$patient2;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: (selectedAppt === null || selectedAppt === void 0 ? void 0 : selectedAppt._id) === a._id ? 'bg-primary-50' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: [(_a$patient = a.patient) === null || _a$patient === void 0 ? void 0 : _a$patient.firstName, \" \", (_a$patient2 = a.patient) === null || _a$patient2 === void 0 ? void 0 : _a$patient2.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: a.appointmentDate ? new Date(a.appointmentDate).toLocaleDateString() : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: a.appointmentTime || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: typeof a.dailyToken !== 'undefined' ? a.dailyToken : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: a.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-secondary\",\n                    onClick: () => onChooseAppointment(a),\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this)]\n              }, a._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this);\n            }), appointments.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"px-6 py-6 text-center text-gray-500\",\n                children: \"No appointments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), selectedAppt && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-2\",\n        children: \"Selected Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Patient:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 18\n          }, this), \" \", (_selectedAppt$patient = selectedAppt.patient) === null || _selectedAppt$patient === void 0 ? void 0 : _selectedAppt$patient.firstName, \" \", (_selectedAppt$patient2 = selectedAppt.patient) === null || _selectedAppt$patient2 === void 0 ? void 0 : _selectedAppt$patient2.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Doctor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 18\n          }, this), \" Dr. \", (_selectedAppt$doctor = selectedAppt.doctor) === null || _selectedAppt$doctor === void 0 ? void 0 : (_selectedAppt$doctor$ = _selectedAppt$doctor.user) === null || _selectedAppt$doctor$ === void 0 ? void 0 : _selectedAppt$doctor$.firstName, \" \", (_selectedAppt$doctor2 = selectedAppt.doctor) === null || _selectedAppt$doctor2 === void 0 ? void 0 : (_selectedAppt$doctor3 = _selectedAppt$doctor2.user) === null || _selectedAppt$doctor3 === void 0 ? void 0 : _selectedAppt$doctor3.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Token:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 18\n          }, this), \" \", typeof selectedAppt.dailyToken !== 'undefined' ? selectedAppt.dailyToken : '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 18\n          }, this), \" \", selectedAppt.appointmentDate ? new Date(selectedAppt.appointmentDate).toLocaleDateString() : '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 18\n          }, this), \" \", selectedAppt.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Find Dispenses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Patient ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input-field\",\n            value: queryPatientId,\n            onChange: e => setQueryPatientId(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"input-field\",\n            value: queryDate,\n            onChange: e => setQueryDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"input-field\",\n            value: queryToken,\n            onChange: e => setQueryToken(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: onQuery,\n            disabled: queryLoading,\n            children: queryLoading ? 'Searching...' : 'Search'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Patient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Token\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Tax\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: [results.map(d => {\n              var _d$patient, _d$patient2, _d$dailyToken;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: (selected === null || selected === void 0 ? void 0 : selected._id) === d._id ? 'bg-primary-50' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: [(_d$patient = d.patient) === null || _d$patient === void 0 ? void 0 : _d$patient.firstName, \" \", (_d$patient2 = d.patient) === null || _d$patient2 === void 0 ? void 0 : _d$patient2.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: (_d$dailyToken = d.dailyToken) !== null && _d$dailyToken !== void 0 ? _d$dailyToken : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: Number(d.subtotal).toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: Number(d.tax).toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: Number(d.total).toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: d.paymentStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-secondary\",\n                    onClick: () => onSelect(d),\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this)]\n              }, d._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this);\n            }), results.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"px-6 py-6 text-center text-gray-500\",\n                children: \"No dispenses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Payment & Bill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary\",\n          onClick: () => setSelected(null),\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Amount to pay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"input-field\",\n            value: payAmount,\n            onChange: e => setPayAmount(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: onPay,\n            children: \"Record Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: onPrint,\n            disabled: !selected.billNumber && selected.paymentStatus !== 'paid',\n            children: \"Print Bill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: billRef,\n        className: \"bg-white p-4 rounded border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \"Clinic Bill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 mb-4\",\n          children: [\"Bill No: \", selected.billNumber || '(generated after payment)', \" | Date: \", new Date(selected.createdAt).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Patient:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 35\n          }, this), \" \", (_selected$patient = selected.patient) === null || _selected$patient === void 0 ? void 0 : _selected$patient.firstName, \" \", (_selected$patient2 = selected.patient) === null || _selected$patient2 === void 0 ? void 0 : _selected$patient2.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Token:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 35\n          }, this), \" \", (_selected$dailyToken = selected.dailyToken) !== null && _selected$dailyToken !== void 0 ? _selected$dailyToken : '-', \" | \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Day:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 90\n          }, this), \" \", selected.appointmentDay ? new Date(selected.appointmentDay).toLocaleDateString() : '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 34\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Unit Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 65\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: (_selected$items = selected.items) === null || _selected$items === void 0 ? void 0 : _selected$items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: it.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: it.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: Number(it.unitPrice).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 73\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: (Number(it.quantity) * Number(it.unitPrice)).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 115\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Subtotal: \", Number(selected.subtotal).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Tax: \", Number(selected.tax).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold\",\n            children: [\"Total: \", Number(selected.total).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Paid: \", Number(selected.paidAmount || 0).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Status: \", selected.paymentStatus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n};\n_s(Dispensary, \"sXM+ufIoqQIde2SGN/gp4UPLnbQ=\");\n_c = Dispensary;\nexport default Dispensary;\nvar _c;\n$RefreshReg$(_c, \"Dispensary\");","map":{"version":3,"names":["React","useEffect","useRef","useState","dispensaryAPI","appointmentAPI","medicinesAPI","toast","jsxDEV","_jsxDEV","emptyItem","name","quantity","unitPrice","Dispensary","_s","_selectedAppt$patient","_selectedAppt$patient2","_selectedAppt$doctor","_selectedAppt$doctor$","_selectedAppt$doctor2","_selectedAppt$doctor3","_selected$patient","_selected$patient2","_selected$dailyToken","_selected$items","mode","setMode","date","setDate","token","setToken","patientId","setPatientId","items","setItems","tax","setTax","loading","setLoading","queryDate","setQueryDate","queryToken","setQueryToken","queryPatientId","setQueryPatientId","results","setResults","selected","setSelected","payAmount","setPayAmount","billRef","queryLoading","setQueryLoading","todayStr","Date","toISOString","slice","apptDate","setApptDate","apptStatus","setApptStatus","apptLoading","setApptLoading","appointments","setAppointments","selectedAppt","setSelectedAppt","altIdx","setAltIdx","altSalt","setAltSalt","altList","setAltList","altLoading","setAltLoading","updateItem","idx","field","value","prev","map","it","i","onQueryAppointments","params","status","res","getAll","data","e","_e$response","_e$response$data","msg","response","message","error","onChooseAppointment","appt","prefill","appointmentId","_id","pre","length","x","strength","form","duration","notes","appointmentDay","dailyToken","_e$response2","_e$response2$data","onSearchAlternatives","salt","limit","onPickAlternative","m","sellingPrice","addItem","removeItem","filter","_","computeSubtotal","reduce","sum","Number","subtotal","total","setDays","days","qty","doses","setDoses","onCreate","payload","patient","create","success","_e$response3","_e$response3$data","console","onSelect","d","onPay","pay","amount","_e$response4","_e$response4$data","onPrint","current","printContents","innerHTML","win","window","open","document","write","close","focus","print","onQuery","_e$response5","_e$response5$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","checked","onChange","target","placeholder","onClick","toFixed","disabled","a","_a$patient","_a$patient2","firstName","lastName","appointmentDate","toLocaleDateString","appointmentTime","colSpan","doctor","user","_d$patient","_d$patient2","_d$dailyToken","paymentStatus","billNumber","ref","createdAt","toLocaleString","paidAmount","_c","$RefreshReg$"],"sources":["C:/Users/Kashif/clinic-management-system/frontend/src/pages/Dispensary.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { dispensaryAPI, appointmentAPI, medicinesAPI } from '../services/api';\nimport toast from 'react-hot-toast';\n\nconst emptyItem = { name: '', quantity: 1, unitPrice: 0 };\n\nconst Dispensary = () => {\n  const [mode, setMode] = useState('token'); // 'token' | 'patient'\n  const [date, setDate] = useState('');\n  const [token, setToken] = useState('');\n  const [patientId, setPatientId] = useState('');\n  const [items, setItems] = useState([{ ...emptyItem }]);\n  const [tax, setTax] = useState('0');\n  const [loading, setLoading] = useState(false);\n\n  const [queryDate, setQueryDate] = useState('');\n  const [queryToken, setQueryToken] = useState('');\n  const [queryPatientId, setQueryPatientId] = useState('');\n  const [results, setResults] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [payAmount, setPayAmount] = useState('');\n  const billRef = useRef(null);\n  const [queryLoading, setQueryLoading] = useState(false);\n\n  // Appointment filter/prefill\n  const todayStr = new Date().toISOString().slice(0,10);\n  const [apptDate, setApptDate] = useState(todayStr);\n  const [apptStatus, setApptStatus] = useState('scheduled');\n  const [apptLoading, setApptLoading] = useState(false);\n  const [appointments, setAppointments] = useState([]);\n  const [selectedAppt, setSelectedAppt] = useState(null);\n\n  // Alternatives search by salt per item index\n  const [altIdx, setAltIdx] = useState(null);\n  const [altSalt, setAltSalt] = useState('');\n  const [altList, setAltList] = useState([]);\n  const [altLoading, setAltLoading] = useState(false);\n\n  const updateItem = (idx, field, value) => {\n    setItems(prev => prev.map((it, i) => i === idx ? { ...it, [field]: value } : it));\n  };\n\n  // Auto-load today's scheduled appointments on mount\n  useEffect(() => {\n    onQueryAppointments();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Appointments search for chemist\n  const onQueryAppointments = async () => {\n    try {\n      setApptLoading(true);\n      const params = {};\n      if (apptDate) params.date = apptDate;\n      if (apptStatus) params.status = apptStatus;\n      const res = await appointmentAPI.getAll(params);\n      setAppointments(res.data.data || []);\n      setSelectedAppt(null);\n    } catch (e) {\n      const msg = e.response?.data?.message || 'Failed to fetch appointments';\n      toast.error(msg);\n    } finally {\n      setApptLoading(false);\n    }\n  };\n\n  const onChooseAppointment = async (appt) => {\n    setSelectedAppt(appt);\n    try {\n      const res = await dispensaryAPI.prefill({ appointmentId: appt._id });\n      const pre = res.data.data || [];\n      if (pre.length === 0) toast('No prescription found for this appointment');\n      setItems(pre.map(x => ({ name: x.name, strength: x.strength || '', form: x.form || '', duration: x.duration || '', quantity: x.quantity || 1, unitPrice: x.unitPrice || 0, notes: x.notes || '' })));\n      setMode('token');\n      setDate(appt.appointmentDay ? new Date(appt.appointmentDay).toISOString().slice(0,10) : '');\n      setToken(appt.dailyToken || '');\n      setPatientId('');\n    } catch (e) {\n      const msg = e.response?.data?.message || 'Failed to prefill from prescription';\n      toast.error(msg);\n    }\n  };\n\n  // Alternatives by salt\n  const onSearchAlternatives = async (idx) => {\n    try {\n      if (!altSalt) return toast.error('Enter salt to search alternatives');\n      setAltLoading(true);\n      setAltIdx(idx);\n      const res = await medicinesAPI.getAll({ salt: altSalt, limit: 10 });\n      setAltList(res.data.data || []);\n    } catch (e) {\n      setAltList([]);\n    } finally {\n      setAltLoading(false);\n    }\n  };\n  const onPickAlternative = (m) => {\n    if (altIdx === null) return;\n    updateItem(altIdx, 'name', m.name || '');\n    updateItem(altIdx, 'unitPrice', m.sellingPrice || 0);\n    setAltIdx(null);\n    setAltSalt('');\n    setAltList([]);\n  };\n\n  const addItem = () => setItems(prev => [...prev, { ...emptyItem }]);\n  const removeItem = (idx) => setItems(prev => prev.filter((_, i) => i !== idx));\n\n  const computeSubtotal = () => items.reduce((sum, it) => sum + (Number(it.quantity || 0) * Number(it.unitPrice || 0)), 0);\n  const subtotal = computeSubtotal();\n  const total = subtotal + Number(tax || 0);\n\n  // Quantity helpers\n  const setDays = (idx, days) => {\n    updateItem(idx, 'days', days);\n    const qty = Number(days || 0) * Number(items[idx].doses || 0 || 1);\n    updateItem(idx, 'quantity', qty);\n  };\n  const setDoses = (idx, doses) => {\n    updateItem(idx, 'doses', doses);\n    const qty = Number(doses || 0) * Number(items[idx].days || 0 || 1);\n    updateItem(idx, 'quantity', qty);\n  };\n\n  const onCreate = async () => {\n    try {\n      setLoading(true);\n      const payload = { items, tax: Number(tax || 0) };\n      if (mode === 'token') {\n        if (!date || !token) return toast.error('Provide date and token');\n        payload.date = date;\n        payload.token = Number(token);\n      } else {\n        if (!patientId) return toast.error('Provide patientId');\n        payload.patient = patientId;\n      }\n      const res = await dispensaryAPI.create(payload);\n      toast.success('Dispense created');\n      // Reset minimal\n      setItems([{ ...emptyItem }]);\n      setTax('0');\n    } catch (e) {\n      const msg = e.response?.data?.message || 'Failed to create dispense';\n      toast.error(msg);\n      console.error('Create dispense error:', e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onSelect = (d) => {\n    setSelected(d);\n    setPayAmount('');\n  };\n\n  const onPay = async () => {\n    if (!selected?._id) return toast.error('Select a dispense first');\n    if (!payAmount || Number(payAmount) <= 0) return toast.error('Enter valid amount');\n    try {\n      const res = await dispensaryAPI.pay(selected._id, { amount: Number(payAmount) });\n      toast.success('Payment recorded');\n      setSelected(res.data.data);\n      // refresh list entry\n      setResults(prev => prev.map(x => x._id === res.data.data._id ? res.data.data : x));\n      setPayAmount('');\n    } catch (e) {\n      const msg = e.response?.data?.message || 'Payment failed';\n      toast.error(msg);\n      console.error('Payment error:', e);\n    }\n  };\n\n  const onPrint = () => {\n    if (!billRef.current) return;\n    const printContents = billRef.current.innerHTML;\n    const win = window.open('', '', 'width=800,height=600');\n    win.document.write('<html><head><title>Bill</title>');\n    win.document.write('<style>body{font-family:Arial;padding:16px} table{width:100%;border-collapse:collapse} th,td{border:1px solid #ddd;padding:8px;text-align:left}</style>');\n    win.document.write('</head><body>');\n    win.document.write(printContents);\n    win.document.write('</body></html>');\n    win.document.close();\n    win.focus();\n    win.print();\n    win.close();\n  };\n\n  const onQuery = async () => {\n    try {\n      setQueryLoading(true);\n      const params = {};\n      if (queryPatientId) params.patientId = queryPatientId;\n      if (queryDate && queryToken) {\n        params.date = queryDate;\n        params.token = queryToken;\n      }\n      if (!params.patientId && !params.date) return toast.error('Provide patientId or date+token');\n      const res = await dispensaryAPI.getAll(params);\n      setResults(res.data.data || []);\n      setSelected(null);\n    } catch (e) {\n      const msg = e.response?.data?.message || 'Failed to fetch dispenses';\n      toast.error(msg);\n      console.error('Query dispenses error:', e);\n    } finally {\n      setQueryLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"card\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Create Dispense</h2>\n        <div className=\"flex items-center gap-4 mb-4\">\n          <label className=\"flex items-center gap-2\">\n            <input type=\"radio\" name=\"mode\" checked={mode==='token'} onChange={() => setMode('token')} /> By Token\n          </label>\n          <label className=\"flex items-center gap-2\">\n            <input type=\"radio\" name=\"mode\" checked={mode==='patient'} onChange={() => setMode('patient')} /> By Patient ID\n          </label>\n        </div>\n        {mode === 'token' ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"form-label\">Date</label>\n              <input type=\"date\" className=\"input-field\" value={date} onChange={(e)=>setDate(e.target.value)} />\n            </div>\n            <div>\n              <label className=\"form-label\">Token</label>\n              <input type=\"number\" className=\"input-field\" value={token} onChange={(e)=>setToken(e.target.value)} />\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"form-label\">Patient ID</label>\n              <input type=\"text\" className=\"input-field\" value={patientId} onChange={(e)=>setPatientId(e.target.value)} placeholder=\"Mongo ObjectId\" />\n            </div>\n          </div>\n        )}\n\n        <div className=\"mb-4\">\n          <label className=\"form-label\">Items</label>\n          <div className=\"space-y-2\">\n            {items.map((it, idx) => (\n              <div key={idx} className=\"grid grid-cols-1 md:grid-cols-12 gap-2\">\n                <input className=\"input-field md:col-span-3\" placeholder=\"Medicine name\" value={it.name} onChange={(e)=>updateItem(idx,'name',e.target.value)} />\n                <input className=\"input-field md:col-span-2\" placeholder=\"Strength (e.g., 500mg)\" value={it.strength||''} onChange={(e)=>updateItem(idx,'strength',e.target.value)} />\n                <div className=\"md:col-span-3 flex gap-2\">\n                  <input type=\"number\" className=\"input-field\" placeholder=\"Days\" value={it.days||''} onChange={(e)=>setDays(idx, e.target.value)} />\n                  <input type=\"number\" className=\"input-field\" placeholder=\"Doses/day\" value={it.doses||''} onChange={(e)=>setDoses(idx, e.target.value)} />\n                </div>\n                <input type=\"number\" className=\"input-field md:col-span-1\" placeholder=\"Qty\" value={it.quantity} onChange={(e)=>updateItem(idx,'quantity',e.target.value)} />\n                <input type=\"number\" className=\"input-field md:col-span-1\" placeholder=\"Unit Price\" value={it.unitPrice} onChange={(e)=>updateItem(idx,'unitPrice',e.target.value)} />\n                <input className=\"input-field md:col-span-2\" placeholder=\"Duration (e.g., 5 days)\" value={it.duration||''} onChange={(e)=>updateItem(idx,'duration',e.target.value)} />\n                <div className=\"md:col-span-2 flex gap-2\">\n                  <input className=\"input-field\" placeholder=\"Salt\" value={altIdx===idx ? altSalt : ''} onChange={(e)=>{ setAltIdx(idx); setAltSalt(e.target.value); }} />\n                  <button type=\"button\" className=\"btn-secondary\" onClick={()=>onSearchAlternatives(idx)}>Alt</button>\n                  <button type=\"button\" className=\"btn-secondary\" onClick={()=>removeItem(idx)}>Remove</button>\n                </div>\n                {altIdx===idx && (altList.length>0 || altLoading) && (\n                  <div className=\"md:col-span-12 border rounded p-2 bg-white\">\n                    {altLoading && <div className=\"text-sm text-gray-500\">Searching alternatives...</div>}\n                    {altList.map((m)=> (\n                      <button key={m._id} type=\"button\" className=\"block w-full text-left px-3 py-1 hover:bg-gray-50\" onClick={()=>onPickAlternative(m)}>\n                        {m.name} {m.strength?`(${m.strength})`:''} {m.form?`- ${m.form}`:''} — Rs. {Number(m.sellingPrice||0).toFixed(2)}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n          <div className=\"mt-2\">\n            <button type=\"button\" className=\"btn-secondary\" onClick={addItem}>Add Item</button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div>\n            <label className=\"form-label\">Tax</label>\n            <input type=\"number\" className=\"input-field\" value={tax} onChange={(e)=>setTax(e.target.value)} />\n          </div>\n          <div className=\"md:col-span-2 flex items-end justify-end\">\n            <div className=\"text-right\">\n              <div className=\"text-sm text-gray-600\">Subtotal: {subtotal.toFixed(2)}</div>\n              <div className=\"text-sm text-gray-600\">Tax: {Number(tax||0).toFixed(2)}</div>\n              <div className=\"text-lg font-semibold\">Total: {total.toFixed(2)}</div>\n            </div>\n          </div>\n        </div>\n\n        <button className=\"btn-primary\" onClick={onCreate} disabled={loading}>\n          {loading ? 'Saving...' : 'Create Dispense'}\n        </button>\n      </div>\n\n      {/* Appointments (Chemist) -> Prefill from prescription */}\n      <div className=\"card\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Appointments for Dispensing</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"form-label\">Date</label>\n            <input type=\"date\" className=\"input-field\" value={apptDate} onChange={(e)=>setApptDate(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"form-label\">Status</label>\n            <select className=\"input-field\" value={apptStatus} onChange={(e)=>setApptStatus(e.target.value)}>\n              <option value=\"\">All</option>\n              <option value=\"scheduled\">Scheduled</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"cancelled\">Cancelled</option>\n              <option value=\"no-show\">No Show</option>\n            </select>\n          </div>\n          <div className=\"flex items-end\">\n            <button className=\"btn-primary\" onClick={onQueryAppointments} disabled={apptLoading}>{apptLoading ? 'Loading...' : 'Search'}</button>\n          </div>\n        </div>\n\n        <div className=\"mt-4 overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Patient</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Token</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                <th className=\"px-6 py-3\"></th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {appointments.map((a)=> (\n                <tr key={a._id} className={selectedAppt?._id===a._id ? 'bg-primary-50' : ''}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{a.patient?.firstName} {a.patient?.lastName}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{a.appointmentDate ? new Date(a.appointmentDate).toLocaleDateString() : '-'}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{a.appointmentTime || '-'}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{typeof a.dailyToken !== 'undefined' ? a.dailyToken : '-'}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{a.status}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-right\">\n                    <button className=\"btn-secondary\" onClick={()=>onChooseAppointment(a)}>Select</button>\n                  </td>\n                </tr>\n              ))}\n              {appointments.length === 0 && (\n                <tr>\n                  <td colSpan=\"6\" className=\"px-6 py-6 text-center text-gray-500\">No appointments</td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {selectedAppt && (\n        <div className=\"card\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Selected Appointment</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm\">\n            <div><strong>Patient:</strong> {selectedAppt.patient?.firstName} {selectedAppt.patient?.lastName}</div>\n            <div><strong>Doctor:</strong> Dr. {selectedAppt.doctor?.user?.firstName} {selectedAppt.doctor?.user?.lastName}</div>\n            <div><strong>Token:</strong> {typeof selectedAppt.dailyToken !== 'undefined' ? selectedAppt.dailyToken : '-'}</div>\n            <div><strong>Date:</strong> {selectedAppt.appointmentDate ? new Date(selectedAppt.appointmentDate).toLocaleDateString() : '-'}</div>\n            <div><strong>Status:</strong> {selectedAppt.status}</div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Find Dispenses</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"form-label\">Patient ID</label>\n            <input type=\"text\" className=\"input-field\" value={queryPatientId} onChange={(e)=>setQueryPatientId(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"form-label\">Date</label>\n            <input type=\"date\" className=\"input-field\" value={queryDate} onChange={(e)=>setQueryDate(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"form-label\">Token</label>\n            <input type=\"number\" className=\"input-field\" value={queryToken} onChange={(e)=>setQueryToken(e.target.value)} />\n          </div>\n          <div className=\"flex items-end\">\n            <button className=\"btn-primary\" onClick={onQuery} disabled={queryLoading}>{queryLoading ? 'Searching...' : 'Search'}</button>\n          </div>\n        </div>\n\n        <div className=\"mt-4 overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Patient</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Token</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Subtotal</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tax</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                <th className=\"px-6 py-3\"></th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {results.map(d => (\n                <tr key={d._id} className={selected?._id===d._id ? 'bg-primary-50' : ''}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{d.patient?.firstName} {d.patient?.lastName}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{d.dailyToken ?? '-'}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{Number(d.subtotal).toFixed(2)}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{Number(d.tax).toFixed(2)}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{Number(d.total).toFixed(2)}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{d.paymentStatus}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-right\">\n                    <button className=\"btn-secondary\" onClick={()=>onSelect(d)}>Select</button>\n                  </td>\n                </tr>\n              ))}\n              {results.length === 0 && (\n                <tr>\n                  <td colSpan=\"6\" className=\"px-6 py-6 text-center text-gray-500\">No dispenses</td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Payment and Bill */}\n      {selected && (\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Payment & Bill</h2>\n            <button className=\"btn-secondary\" onClick={()=>setSelected(null)}>Clear</button>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"form-label\">Amount to pay</label>\n              <input type=\"number\" className=\"input-field\" value={payAmount} onChange={(e)=>setPayAmount(e.target.value)} />\n            </div>\n            <div className=\"flex items-end\">\n              <button className=\"btn-primary\" onClick={onPay}>Record Payment</button>\n            </div>\n            <div className=\"flex items-end\">\n              <button className=\"btn-secondary\" onClick={onPrint} disabled={!selected.billNumber && selected.paymentStatus!=='paid'}>Print Bill</button>\n            </div>\n          </div>\n\n          <div ref={billRef} className=\"bg-white p-4 rounded border\">\n            <h3 className=\"text-xl font-semibold mb-2\">Clinic Bill</h3>\n            <div className=\"text-sm text-gray-600 mb-4\">Bill No: {selected.billNumber || '(generated after payment)'} | Date: {new Date(selected.createdAt).toLocaleString()}</div>\n            <div className=\"mb-2\"><strong>Patient:</strong> {selected.patient?.firstName} {selected.patient?.lastName}</div>\n            <div className=\"mb-4\"><strong>Token:</strong> {selected.dailyToken ?? '-'} | <strong>Day:</strong> {selected.appointmentDay ? new Date(selected.appointmentDay).toLocaleDateString() : '-'}</div>\n            <table>\n              <thead>\n                <tr><th>Item</th><th>Qty</th><th>Unit Price</th><th>Amount</th></tr>\n              </thead>\n              <tbody>\n                {selected.items?.map((it, idx)=> (\n                  <tr key={idx}><td>{it.name}</td><td>{it.quantity}</td><td>{Number(it.unitPrice).toFixed(2)}</td><td>{(Number(it.quantity)*Number(it.unitPrice)).toFixed(2)}</td></tr>\n                ))}\n              </tbody>\n            </table>\n            <div className=\"text-right mt-4\">\n              <div>Subtotal: {Number(selected.subtotal).toFixed(2)}</div>\n              <div>Tax: {Number(selected.tax).toFixed(2)}</div>\n              <div className=\"font-semibold\">Total: {Number(selected.total).toFixed(2)}</div>\n              <div>Paid: {Number(selected.paidAmount||0).toFixed(2)}</div>\n              <div>Status: {selected.paymentStatus}</div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dispensary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}